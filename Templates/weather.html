{% extends "base.html" %}
{% block title %}Python Practicum 2022{% endblock %}
{% block header %}{% endblock %}

{% block content %}

<div class="container">

    <div class="row row-cols ">
        <div class="col-md-4 gy-4" id="city_input_form">
            <form action="/weather" method="post">
                <div class="form-control-plaintext">
                    <label for="city_name">
                        <h5>City Name</h5>
                    </label>
                    <input type="text" id="city_name" name="city_name" class="form-control"
                        placeholder="Insert city here" required>
                </div>
                <button type="submit">Check Weather</button>
            </form>
        </div>
        <div class="col-md-4 gy-4" id="weather_output">
            {% if city %} <h3>Weather in {{city}}, {{country}}</h3> {% else %} <h3>Weather</h3> {% endif %}
            <p>Temperature: {{temp}} C<br>Feels like {{feels_like}} C<br>
                Wind speed of {{wind}} m/s</p>
            <img src={{icon}}>
        </div>

        <div class="col-md-4 gy-4" id="coordinates">
            <h3>Coordinates</h3>
            <p>Latitude: {{lat}}</p>
            <p>Longitude: {{lon}}</p>
        </div>
        <div class="col" action="/weather_history" method="POST">
            <a href='../history.xlsx' download>Historical Data exel file</a>
        </div>
    </div>
</div>

<div class="container">
    <div class="row row-col-2">
        <div class="col" id="weather_history_chart">
            <div class="card mb-3">
                <div class="card-body p-3">
                    <div class="chart">
                        <img href={{weather_history}} />
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
{% endblock %}